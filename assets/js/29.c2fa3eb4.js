(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{398:function(t,s,a){"use strict";a.r(s);var v=a(42),_=Object(v.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux学习笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux学习笔记"}},[t._v("#")]),t._v(" Linux学习笔记")]),t._v(" "),a("h2",{attrs:{id:"_1-系统安装及配置（ubuntu）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-系统安装及配置（ubuntu）"}},[t._v("#")]),t._v(" 1. 系统安装及配置（Ubuntu）")]),t._v(" "),a("ol",[a("li",[t._v("更换软件源\n"),a("ol",[a("li",[t._v("备份原始源文件/etc/apt/sources.list\n"),a("code",[t._v("sudo cp sources.list sources_backup.list")])]),t._v(" "),a("li",[t._v("更换"),a("a",{attrs:{href:"https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("清华源"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("更新软件列表\n"),a("code",[t._v("sudo apt-get update")])])])])]),t._v(" "),a("h2",{attrs:{id:"_2-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-概念"}},[t._v("#")]),t._v(" 2. 概念")]),t._v(" "),a("ol",[a("li",[t._v("BASH（Bourne Again SHell）：bash 是最初 Unix 上由 Steve Bourne 写成 shell 程序 sh 的增强版")])]),t._v(" "),a("h2",{attrs:{id:"_3-基础使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-基础使用"}},[t._v("#")]),t._v(" 3. 基础使用")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("文件操作")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("pwd(print name of current working directory)打印出当前工作目录名")])]),t._v(" "),a("li",[a("p",[t._v("cd(Change directory)更改目录")]),t._v(" "),a("ol",[a("li",[t._v("符号“.”指的是工作目录，“..”指的是工作目录的父目录")])])]),t._v(" "),a("li",[a("p",[t._v("ls(List directory contents)列出目录内容")]),t._v(" "),a("ol",[a("li",[t._v("-a：add，显示全部文件（包括隐藏文件）")]),t._v(" "),a("li",[t._v("-l：long，结果以长模式输出")]),t._v(" "),a("li",[t._v("-t：按文件修改时间先后排序")]),t._v(" "),a("li",[t._v("-r：结果以相反顺序输出")]),t._v(" "),a("li",[t._v("-S：结果按文件大小排序")]),t._v(" "),a("li",[t._v("长模式")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("drwxr-sr-x")]),t._v(" "),a("th",[t._v("9")]),t._v(" "),a("th",[t._v("user")]),t._v(" "),a("th",[t._v("user")]),t._v(" "),a("th",[t._v("283 Jul 23 06:09")]),t._v(" "),a("th",[t._v("user")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("权限：用户、同组、其他")]),t._v(" "),a("td",[t._v("文件硬链接数目")]),t._v(" "),a("td",[t._v("文件所有者用户名")]),t._v(" "),a("td",[t._v("用户组")]),t._v(" "),a("td",[t._v("上次修改时间")]),t._v(" "),a("td",[t._v("文件名")])])])])])])]),t._v(" "),a("li",[a("p",[t._v("操作系统")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("file：确定文件类型")])]),t._v(" "),a("li",[a("p",[t._v("less：浏览文件内容")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("命令")]),t._v(" "),a("th",[t._v("行为")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("PageUp")]),t._v(" "),a("td",[t._v("向上翻滚一页")])]),t._v(" "),a("tr",[a("td",[t._v("PageDown")]),t._v(" "),a("td",[t._v("向下翻滚一页")])]),t._v(" "),a("tr",[a("td",[t._v("h")]),t._v(" "),a("td",[t._v("显示帮助")])]),t._v(" "),a("tr",[a("td",[t._v("q")]),t._v(" "),a("td",[t._v("退出less")])])])])])])]),t._v(" "),a("li",[a("p",[t._v("使用命令")]),t._v(" "),a("ol",[a("li",[t._v("type：说明怎样解释一个命令名")]),t._v(" "),a("li",[t._v("which：显示会执行那个可执行程序")]),t._v(" "),a("li",[t._v("man：显示命令手册页")]),t._v(" "),a("li",[t._v("apropos：显示一系列适合的命令")]),t._v(" "),a("li",[t._v("info：显示命令info")]),t._v(" "),a("li",[t._v("whatis：显示一个命令的简洁描述")]),t._v(" "),a("li",[t._v("alias：创建命令别名")])])]),t._v(" "),a("li",[a("p",[t._v("I/O重定向：允许我们改变输出地点和输入来源")]),t._v(" "),a("ol",[a("li",[t._v("命令\n"),a("ol",[a("li",[t._v("cat：连接文件")]),t._v(" "),a("li",[t._v("sort：排序文本行")]),t._v(" "),a("li",[t._v("uniq：报道或省略重复行")]),t._v(" "),a("li",[t._v("grep：打印匹配行")]),t._v(" "),a("li",[t._v("wc：打印文件中的换行符，字，和字节个数")]),t._v(" "),a("li",[t._v("head：输出文件第一部分（-n 调整打印行数）")]),t._v(" "),a("li",[t._v("tail：输出文件的最后一部分（-n 调整打印行数）")]),t._v(" "),a("li",[t._v("tee：从标准输入Stdin读取数据，并同时写到标准输出Stdout和文件")])])]),t._v(" "),a("li",[t._v("管道\n"),a("ol",[a("li",[t._v("command1 | command2 一个命令的标准输出可以通过管道送至另一个命令的标准输入")])])])])]),t._v(" "),a("li",[a("p",[t._v("shell命令")]),t._v(" "),a("ol",[a("li",[t._v("echo：")])])]),t._v(" "),a("li",[a("p",[t._v("键盘高级操作技巧")]),t._v(" "),a("ol",[a("li",[t._v("clear：清空屏幕")]),t._v(" "),a("li",[t._v("history：显示历史列表内容")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-vi用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-vi用法"}},[t._v("#")]),t._v(" 4. vi用法")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("vi的模式")]),t._v(" "),a("ul",[a("li",[t._v("一般模式（默认）：移动光标、粘贴、拷贝、存盘、退出等")]),t._v(" "),a("li",[t._v("编辑模式：在一般模式中键入"),a("code",[t._v("i, o, a, r")]),t._v("可进入编辑模式，在此模式下可完成文本输入操作，“Esc”返回一般模式")]),t._v(" "),a("li",[t._v("指令模式：在一般模式下键入"),a("code",[t._v(": / ?")]),t._v("进入指令模式，执行查找、提婚、读取、存盘、离开等命令")])])]),t._v(" "),a("li",[a("p",[t._v("vi指令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("命令")]),t._v(" "),a("th",[t._v("应用模式")]),t._v(" "),a("th",[t._v("功能")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("i")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("插入文本")])]),t._v(" "),a("tr",[a("td",[t._v("a")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("增加文本")])]),t._v(" "),a("tr",[a("td",[t._v("o")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("插入新的一行")])]),t._v(" "),a("tr",[a("td",[t._v("r")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("替换字符")])]),t._v(" "),a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("移动到行首字符处")])]),t._v(" "),a("tr",[a("td",[t._v("$")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("移动到行尾字符处")])]),t._v(" "),a("tr",[a("td",[t._v("Ctrl+f or PageDown")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("向下翻页")])]),t._v(" "),a("tr",[a("td",[t._v("Ctrl+b or PageUp")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("向上翻页")])]),t._v(" "),a("tr",[a("td",[t._v("x")]),t._v(" "),a("td",[t._v("一般模式")]),t._v(" "),a("td",[t._v("删除本文")])]),t._v(" "),a("tr",[a("td",[t._v("Esc")]),t._v(" "),a("td",[t._v("编辑模式")]),t._v(" "),a("td",[t._v("退回到一般模式")])]),t._v(" "),a("tr",[a("td",[t._v(":w")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("存盘")])]),t._v(" "),a("tr",[a("td",[t._v(":w!")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("强行存盘")])]),t._v(" "),a("tr",[a("td",[t._v(":q")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("退出")])]),t._v(" "),a("tr",[a("td",[t._v(":q!")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("强制退出")])]),t._v(" "),a("tr",[a("td",[t._v(":wq")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("存盘退出")])]),t._v(" "),a("tr",[a("td",[t._v(":w filename")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("另存为“filename”文件")])]),t._v(" "),a("tr",[a("td",[t._v("/word")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("向后寻找字符串“word”")])]),t._v(" "),a("tr",[a("td",[t._v("?word")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("向前寻找字符串“word”")])]),t._v(" "),a("tr",[a("td",[t._v(":set number")]),t._v(" "),a("td",[t._v("指令模式")]),t._v(" "),a("td",[t._v("打开行号显示")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_5-shell脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-shell脚本"}},[t._v("#")]),t._v(" 5. Shell脚本")]),t._v(" "),a("ol",[a("li",[t._v("什么是Shell脚本：一个Shell脚本就是一个包含一系列命令的文件。")]),t._v(" "),a("li",[t._v("创建脚本文件\n"),a("ol",[a("li",[a("p",[t._v("编写一个脚本")])]),t._v(" "),a("li",[a("p",[t._v("使脚本文件可执行（需要设置脚本文件的权限，使其可执行）")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("775")]),t._v(" 脚本名\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("常见权限设置：775——每个人都能执行，700——只有文件所有者能执行")])])]),t._v(" "),a("li",[a("p",[t._v("把脚本文件放置到shell能够到的地方，一般放在"),a("code",[t._v("/home/me/bin")]),t._v("下，因为这个文件默认在PATH配置中")])]),t._v(" "),a("li",[a("p",[t._v("执行脚本——"),a("code",[t._v("./脚本名")])])])])]),t._v(" "),a("li",[t._v('find指令：find -name "xx*"')]),t._v(" "),a("li",[t._v("grep指令：grep 要查的字符 文件")])]),t._v(" "),a("h2",{attrs:{id:"_6-常用指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-常用指令"}},[t._v("#")]),t._v(" 6. 常用指令")]),t._v(" "),a("h3",{attrs:{id:"_6-1-查询指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-查询指令"}},[t._v("#")]),t._v(" 6.1. 查询指令")]),t._v(" "),a("ol",[a("li",[t._v('find指令：find -name "xx*"')]),t._v(" "),a("li",[t._v("findcpp xxx：查询含有xxx的cpp文件")]),t._v(" "),a("li",[t._v("grep指令：grep 要查的字符 文件")])]),t._v(" "),a("h3",{attrs:{id:"_6-2-进程指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-进程指令"}},[t._v("#")]),t._v(" 6.2. 进程指令")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("进程信息")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("USER")]),t._v(" "),a("td",[t._v("启动该进程的账户名称")])]),t._v(" "),a("tr",[a("td",[t._v("PID")]),t._v(" "),a("td",[t._v("进程ID")])]),t._v(" "),a("tr",[a("td",[t._v("TTY")]),t._v(" "),a("td",[t._v("表明该进程在那个终端上运行")])]),t._v(" "),a("tr",[a("td",[t._v("STAT")]),t._v(" "),a("td",[t._v("进程状态")])]),t._v(" "),a("tr",[a("td",[t._v("START")]),t._v(" "),a("td",[t._v("启动该进程的时间")])]),t._v(" "),a("tr",[a("td",[t._v("TIME")]),t._v(" "),a("td",[t._v("该进程占用的CPU时间")])]),t._v(" "),a("tr",[a("td",[t._v("COMMAND")]),t._v(" "),a("td",[t._v("启动该进程的命令的名称")])]),t._v(" "),a("tr",[a("td",[t._v("%CPU")]),t._v(" "),a("td",[t._v("占用CPU的百分比")])]),t._v(" "),a("tr",[a("td",[t._v("%MEM")]),t._v(" "),a("td",[t._v("占用内存的百分比")])]),t._v(" "),a("tr",[a("td",[t._v("VSZ")]),t._v(" "),a("td",[t._v("占用虚拟内存(swap空间)的大小")])]),t._v(" "),a("tr",[a("td",[t._v("RSS")]),t._v(" "),a("td",[t._v("占用常驻内存(物理内存)的大小")])])])]),t._v(" "),a("ul",[a("li",[a("blockquote",[a("p",[t._v("TTY：'?' 表示未知或不需要终端")])])]),t._v(" "),a("li",[a("blockquote",[a("p",[t._v("STAT：S(休眠)、Z(僵死)、<(高优先级)、N(低优先级)、s(父进程)、+(前台进程)")])])])])]),t._v(" "),a("li",[a("p",[t._v("查询进程")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("ps：查找与进程相关的PID号")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("命令")]),t._v(" "),a("th",[t._v("功能")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("a")]),t._v(" "),a("td",[t._v("列出所有进程")])]),t._v(" "),a("tr",[a("td",[t._v("e")]),t._v(" "),a("td",[t._v("显示每个程序所使用的环境变量")])]),t._v(" "),a("tr",[a("td",[t._v("f")]),t._v(" "),a("td",[t._v("显示树状结构")])]),t._v(" "),a("tr",[a("td",[t._v("u")]),t._v(" "),a("td",[t._v("以用户为主的进程显示")])]),t._v(" "),a("tr",[a("td",[t._v("x")]),t._v(" "),a("td",[t._v("显示所有程序，不以终端区分")])]),t._v(" "),a("tr",[a("td",[t._v("-aux")]),t._v(" "),a("td",[t._v("组合命令")])]),t._v(" "),a("tr",[a("td",[t._v("|less")]),t._v(" "),a("td",[t._v("筛选")])]),t._v(" "),a("tr",[a("td",[t._v("--sort")]),t._v(" "),a("td",[t._v("排序")])])])])]),t._v(" "),a("li",[a("p",[t._v("关闭进程")]),t._v(" "),a("ol",[a("li",[t._v("当用户在前台执行某个进程时，可以按Ctrl+C组合键强制进行中断")]),t._v(" "),a("li",[t._v("kill PID")]),t._v(" "),a("li",[t._v("kill -9 PID 强制终止")]),t._v(" "),a("li",[t._v("killall 进程名")])])]),t._v(" "),a("li",[a("p",[t._v("top命令：类似Windows资源管理器")])]),t._v(" "),a("li",[a("p",[t._v("pgrep命令：查询进程信息")]),t._v(" "),a("ol",[a("li",[t._v('pgreg -l "进程名"')])])]),t._v(" "),a("li",[a("p",[t._v("pstree命令：查看进程树")]),t._v(" "),a("ol",[a("li",[t._v("pstree命令默认情况下只显示个进程的名称")]),t._v(" "),a("li",[t._v("结合“-p”选项使用时可以同时列出对应的PID号")]),t._v(" "),a("li",[t._v("结合“-u”选项可以列出对应的用户名")]),t._v(" "),a("li",[t._v("结合“-a”选项可以列出完整的命令信息")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_7-linux-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-linux-c"}},[t._v("#")]),t._v(" 7. Linux & c++")]),t._v(" "),a("h3",{attrs:{id:"_7-1-库的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-库的使用"}},[t._v("#")]),t._v(" 7.1. 库的使用")]),t._v(" "),a("h4",{attrs:{id:"_7-1-1-库分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-1-库分类"}},[t._v("#")]),t._v(" 7.1.1. 库分类")]),t._v(" "),a("ol",[a("li",[t._v("静态库：静态库的代码在编译过程中已经被载入可执行程序，因此体积较大")]),t._v(" "),a("li",[t._v("动态库（共享库）：代码不会连接到目标文件之中，只有当动态库可访问时，应用程序才能正确执行动态库函数。执行动态库的方式有隐式调用和显式调用\n"),a("ol",[a("li",[t._v("隐式调用：也称共享库的静态加载，动态库在应用开始执行时会自动载入内存，进程结束时又自动卸载。隐式调用的编译方式与静态库一致")]),t._v(" "),a("li",[t._v("显式调用：也称共享库的动态加载，编译时可以不显式的提供原动态库文件及名称，但是必须遵循dlopen等函数的规则实现调用")])])])]),t._v(" "),a("h4",{attrs:{id:"_7-1-2-静态库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2-静态库"}},[t._v("#")]),t._v(" 7.1.2. 静态库")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("静态库生成：设计源码->编译"),a("code",[t._v(".o")]),t._v("文件->链接静态库，命名规则"),a("code",[t._v("libxxx.a")])])]),t._v(" "),a("li",[a("p",[t._v("静态库的应用模型")]),t._v(" "),a("ol",[a("li",[t._v("调用库函数代码")]),t._v(" "),a("li",[t._v("编译链接选项")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cc -O -o main.c ./libxxx.a")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("执行目标程序"),a("code",[t._v("# ./main")])])])]),t._v(" "),a("h4",{attrs:{id:"_7-1-3-动态库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-3-动态库"}},[t._v("#")]),t._v(" 7.1.3. 动态库")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("动态库生成：")]),t._v(" "),a("ol",[a("li",[t._v("设计源码（exp：d1.c & d2.c）")]),t._v(" "),a("li",[t._v("Linux和其它使用gcc编译器的Unix")])]),t._v(" "),a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("gcc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fpic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*编译.o为扩展名的中间目标文件*/")]),t._v("\ngcc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shared "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("so d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*创建动态库文件d1.so*/")]),t._v("\ngcc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shared "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("so d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("o "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*创建动态库文件d2.so*/")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("或者可以一步到位")]),t._v(" "),a("div",{staticClass:"language-cpp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("gcc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("O "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fpic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shared "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("so d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*创建动态库文件d1.so*/")]),t._v("\ngcc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("O "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fpic "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shared "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("so d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*创建动态库文件d2.so*/")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("动态库的隐式调用")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("调用库函数代码（main程序 main.c）")])]),t._v(" "),a("li",[a("p",[t._v("编译链接选项")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp d1.so dll.so")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cc -O -o main main.c ./dll.so")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./main  /*运行程序*/")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("动态库查找：动态库文件变更位置后程序无法正常运行，解决方法：带路径编译或更改环境变量")])]),t._v(" "),a("li",[a("p",[t._v("动态库更换：动态链接库取代静态库的好处之一是随时升级库的内容")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp d2.so dll.so")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./main")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("li",[a("p",[t._v("动态库的显式调用")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("函数族：显式调用动态库，编译时无需库文件，执行时动态库可存储于人艺文志，库里共享对象必须先申请后使用，不同版本的动态库，只要其共享对象接口相同，就可以直接动态加载。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("打开动态库")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<dlfcn.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dlopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("pathname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//加载动态库")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("pathname：带路径的动态库名")]),t._v(" "),a("li",[t._v("mode：动态库加载方式\n"),a("ul",[a("li",[t._v("RTLD_LAZY：动态库的对象符号在被调用时解析")]),t._v(" "),a("li",[t._v("RTLD_NOW：动态库对象的所有符号在函数dlopen返回前被解析")])])])])]),t._v(" "),a("li",[a("p",[t._v("获取动态库对象地址")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<dlfcn.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dlsym")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("handle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//dlsym在动态库中搜索与字符串name同名的对象")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("handle：由函数dlopen返回成功加载动态库的句柄")]),t._v(" "),a("li",[t._v("name：待使用对象的名称（动态库中包含的函数名或变量名）")])])]),t._v(" "),a("li",[a("p",[t._v("错误检查")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<dlfcn.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dlerror")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取显示动态库操作中的错误信息")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("关闭动态库")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<dlfcn.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dlclose")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("handle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//动态库使用完必须关闭")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("li",[a("p",[t._v("应用模型：打开动态库->获取对象地址->执行动态对象（可回到上一步）->关闭动态库")])])])])]),t._v(" "),a("h4",{attrs:{id:"_7-1-4-小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-4-小结"}},[t._v("#")]),t._v(" 7.1.4. 小结")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("三种库调用对比")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("对比项")]),t._v(" "),a("th",[t._v("静态库")]),t._v(" "),a("th",[t._v("隐式调用")]),t._v(" "),a("th",[t._v("显式调用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("编译参数")]),t._v(" "),a("td",[t._v("传递编译器")]),t._v(" "),a("td",[t._v("传递编译器")]),t._v(" "),a("td",[t._v("不需要")])]),t._v(" "),a("tr",[a("td",[t._v("链接到目标文件")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("否")])]),t._v(" "),a("tr",[a("td",[t._v("库存储位置")]),t._v(" "),a("td",[t._v("不需要")]),t._v(" "),a("td",[t._v("特定位置")]),t._v(" "),a("td",[t._v("任意位置")])]),t._v(" "),a("tr",[a("td",[t._v("载入时间")]),t._v(" "),a("td",[t._v("进程启动")]),t._v(" "),a("td",[t._v("进程启动")]),t._v(" "),a("td",[t._v("任意时刻")])])])])])]),t._v(" "),a("h3",{attrs:{id:"_7-2-标准文件编程库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-标准文件编程库"}},[t._v("#")]),t._v(" 7.2. 标准文件编程库")]),t._v(" "),a("h4",{attrs:{id:"_7-2-1-文件的创建、打开、关闭和删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-1-文件的创建、打开、关闭和删除"}},[t._v("#")]),t._v(" 7.2.1. 文件的创建、打开、关闭和删除")]),t._v(" "),a("ul",[a("li",[t._v("filename：打开文件的名称（带路径）")]),t._v(" "),a("li",[t._v("type：打开文件的方式，由权限和类型两部分组成")]),t._v(" "),a("li",[t._v("stream：已经打开的文件指针")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("fopen函数：打开或创建一个文本")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[t._v("方式")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("r")]),t._v(" "),a("td",[t._v("以只读方式打开，不能更改内容，若文件不存在则报错")])]),t._v(" "),a("tr",[a("td",[t._v("w")]),t._v(" "),a("td",[t._v("以只写方式打开，若文件已存在，清空原文件内容，否则创建新文件")])]),t._v(" "),a("tr",[a("td",[t._v("a")]),t._v(" "),a("td",[t._v("以追加方式打开，若文件已存在，则在文件末尾增加内容，否则创建新文件")])]),t._v(" "),a("tr",[a("td",[t._v("r+")]),t._v(" "),a("td",[t._v("以读写方式打开，若文件不存在则报错")])]),t._v(" "),a("tr",[a("td",[t._v("w+")]),t._v(" "),a("td",[t._v("以读写方式打开，若文件已存在，清空原文件内容，否则创建新文件")])]),t._v(" "),a("tr",[a("td",[t._v("a+")]),t._v(" "),a("td",[t._v("以读取和追加模式打开文件，全文读取，文末追加，若文件不存在创建新文件")])]),t._v(" "),a("tr",[a("td",[t._v("b")]),t._v(" "),a("td",[t._v("以二进制模式打开或创建文件，否则以文本文件打开或创建文件")])])])])]),t._v(" "),a("li",[a("p",[t._v("freopen函数：实现文件流的替换。它首先关闭一个文件流，再创建新的文件流")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[t._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("freopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[t._v("FILE标识符")]),t._v(" "),a("th",[t._v("文件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("stdout")]),t._v(" "),a("td",[t._v("标准输出")])]),t._v(" "),a("tr",[a("td",[t._v("stdin")]),t._v(" "),a("td",[t._v("标准输入")])]),t._v(" "),a("tr",[a("td",[t._v("stderr")]),t._v(" "),a("td",[t._v("标准错误输出")])])])])]),t._v(" "),a("li",[a("p",[t._v("fclose函数")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭文件流，成功时返回0，否则返回EOF")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fclose")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("remove函数")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除指定文件或目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("rename函数")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重命名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("oldname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("newname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("二进制文件与文本文件")]),t._v(" "),a("ol",[a("li",[t._v("文本文件又称为ASCII码文件，可以用vi等文本编辑器编辑其中任意字符，也可以直接操作以空额、制表符或换行符分割的单词和文本。C语言源代码是典型的文本文件。")]),t._v(" "),a("li",[t._v("二进制文件中可以包含任意字符，没有固定格式，文本编辑器无法正常阅读，所有对文件的解析都由应用程序完成。C语言编译后的可执行文件就是二进制文件。")])])])]),t._v(" "),a("h4",{attrs:{id:"_7-2-2-文件的无格式读写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-2-文件的无格式读写"}},[t._v("#")]),t._v(" 7.2.2. 文件的无格式读写")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("字符读写：每次之操作一个字符")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("字符输入函数族")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// getc以unsigned char类型读取文件输入流stream中的一个字符，并将该无符号字符转化为整型后返回，同时移动文件指针到下一个字符处")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// getchar实际上是关于getc的宏定义“getc(stdin)”")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// fgetc功能类似于getc，但是执行速度远低于getc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fgetc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误时都返回EOF，EOF一般定义为int型-1")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("字符输出函数族")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 函数putc先将int型参数c自动转换为unsigned char类型，然后写入文件流stream中，同时移动文件指针到下一个字符处")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fputc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])])]),t._v(" "),a("li",[a("p",[t._v("行读写")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("行输入函数族")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fgets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])])])]),t._v(" "),a("h3",{attrs:{id:"_7-3-linux命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-linux命令"}},[t._v("#")]),t._v(" 7.3. linux命令")]),t._v(" "),a("ol",[a("li",[t._v("grep 文件搜索\n"),a("ol",[a("li",[t._v("常用命令\n"),a("ol",[a("li",[t._v("grep：在没有参数的情况下，只输出符合RE（Regular Expression）字符。")]),t._v(" "),a("li",[t._v("egrep：等同于grep -E，和grep最大的区别就是表现在转义符上比如grep 做次数匹配时{n,m}egrep则不需要直接{n，m}。egrep方便，简介。")]),t._v(" "),a("li",[t._v("fgrep：等同于grep -f，但是不能使用正则表达式。所有的字符匹配功能均已消失。")])])]),t._v(" "),a("li",[t._v("参数说明 "),a("code",[t._v("grep [OPTIONS] PATTERN(模式) [file]")])])])])]),t._v(" "),a("h3",{attrs:{id:"_7-4-coredump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-coredump"}},[t._v("#")]),t._v(" 7.4. coredump")]),t._v(" "),a("ol",[a("li",[t._v("coredump概念：程序调试")]),t._v(" "),a("li",[t._v("coredump开启\n"),a("ol",[a("li",[t._v("输入命令"),a("code",[t._v("ulimit -c")]),t._v("，结果为0表示未打开")]),t._v(" "),a("li",[t._v("输入命令"),a("code",[t._v("ulimit -c unlimited")]),t._v("开启coredump")])])]),t._v(" "),a("li",[t._v("gdb调试\n"),a("ol",[a("li",[t._v("调试core文件"),a("code",[t._v("gdb program coredumpfile")])]),t._v(" "),a("li",[t._v("调试服务程序"),a("code",[t._v("gdb program PID")])])])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/Anker/p/6079580.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("linux下core dump"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_8-linux-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-linux-python"}},[t._v("#")]),t._v(" 8. Linux & Python")]),t._v(" "),a("h3",{attrs:{id:"_8-1-linux离线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-linux离线安装"}},[t._v("#")]),t._v(" 8.1. Linux离线安装")]),t._v(" "),a("ol",[a("li",[t._v("Python版本查询：python -V 或者 python --version")]),t._v(" "),a("li",[t._v("pip3: Command not found：在usr/local/bin目录下寻找pip")]),t._v(" "),a("li",[t._v("Linux下离线安装pandas\n"),a("ol",[a("li",[t._v("安装six")]),t._v(" "),a("li",[t._v("安装pytz和python_dateutil")]),t._v(" "),a("li",[t._v("安装pandas")])])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://pypi.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pypi"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_9-备注"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-备注"}},[t._v("#")]),t._v(" 9. 备注")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://billie66.github.io/TLCL/book/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程地址"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=_.exports}}]);